
============================= C1-compiled nmethod ==============================
----------------------------------- Assembly -----------------------------------

Compiled method (c1) 23729 1196       3       jdk.internal.classfile.impl.DirectMethodBuilder::withCode (22 bytes)
 total in heap  [0x000077b4580d2508,0x000077b4580d28d0] = 968
 main code      [0x000077b4580d2600,0x000077b4580d2878] = 632
 stub code      [0x000077b4580d2878,0x000077b4580d28d0] = 88
 mutable data [0x000077b3fc185b60,0x000077b3fc185bd8] = 120
 relocation     [0x000077b3fc185b60,0x000077b3fc185bc0] = 96
 metadata       [0x000077b3fc185bc0,0x000077b3fc185bd8] = 24
 immutable data [0x000077b3fc185950,0x000077b3fc185b4c] = 508
 dependencies   [0x000077b3fc185950,0x000077b3fc185958] = 8
 nul chk table  [0x000077b3fc185958,0x000077b3fc185968] = 16
 scopes pcs     [0x000077b3fc185968,0x000077b3fc185aa8] = 320
 scopes data    [0x000077b3fc185aa8,0x000077b3fc185b48] = 160

[Disassembly]
--------------------------------------------------------------------------------
[Constant Pool (empty)]

--------------------------------------------------------------------------------

[Instructions begin]
  0x000077b4580d2600:   data16 data16 nopw 0x0(%rax,%rax,1)
  0x000077b4580d260b:   data16 data16 xchg %ax,%ax
  0x000077b4580d260f:   data16 xchg %ax,%ax
[Entry Point]
  # {method} {0x0000000046353598} &apos;withCode&apos; &apos;(Ljava/lang/classfile/CodeModel;Ljava/util/function/Consumer;)Ljava/lang/classfile/MethodBuilder;&apos; in &apos;jdk/internal/classfile/impl/DirectMethodBuilder&apos;
  # this:     rsi:rsi   = &apos;jdk/internal/classfile/impl/DirectMethodBuilder&apos;
  # parm0:    rdx:rdx   = &apos;java/lang/classfile/CodeModel&apos;
  # parm1:    rcx:rcx   = &apos;java/util/function/Consumer&apos;
  #           [sp+0x70]  (sp of caller)
  0x000077b4580d2612:   mov    0x8(%rsi),%r10d
  0x000077b4580d2616:   cmp    0x8(%rax),%r10d
  0x000077b4580d261a:   jne    0x000077b45f4ad6e0           ;   {runtime_call ic_miss_blob (shared runtime)}
[Verified Entry Point]
  0x000077b4580d2620:   mov    %eax,-0x14000(%rsp)
  0x000077b4580d2627:   push   %rbp
  0x000077b4580d2628:   sub    $0x60,%rsp
  0x000077b4580d262c:   cmpl   $0x1,0x20(%r15)
  0x000077b4580d2634:   je     0x000077b4580d263b
  0x000077b4580d2636:   call   Stub::method_entry_barrier_stub (stub gen)
                                                            ;   {runtime_call Stub::method_entry_barrier_stub (stub gen)}
  0x000077b4580d263b:   mov    %rsi,0x48(%rsp)
  0x000077b4580d2640:   mov    %rdx,%r9
  0x000077b4580d2643:   movabs $0x77b414621018,%rdx         ;   {metadata(method data for {method} {0x0000000046353598} &apos;withCode&apos; &apos;(Ljava/lang/classfile/CodeModel;Ljava/util/function/Consumer;)Ljava/lang/classfile/MethodBuilder;&apos; in &apos;jdk/internal/classfile/impl/DirectMethodBuilder&apos;)}
  0x000077b4580d264d:   mov    0x90(%rdx),%r8d
  0x000077b4580d2654:   add    $0x2,%r8d
  0x000077b4580d2658:   mov    %r8d,0x90(%rdx)
  0x000077b4580d265f:   and    $0x7fe,%r8d
  0x000077b4580d2666:   test   %r8d,%r8d
  0x000077b4580d2669:   je     0x000077b4580d27f4           ;*aload_0 {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@0 (line 118)
  0x000077b4580d266f:   mov    0xc(%rsi),%r8d
  0x000077b4580d2673:   shl    $0x3,%r8                     ;*getfield constantPool {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@3 (line 118)
  0x000077b4580d2677:   mov    0x10(%rsi),%edi
  0x000077b4580d267a:   shl    $0x3,%rdi                    ;*getfield context {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@7 (line 118)
  0x000077b4580d267e:   movabs $0x77b414621018,%rdx         ;   {metadata(method data for {method} {0x0000000046353598} &apos;withCode&apos; &apos;(Ljava/lang/classfile/CodeModel;Ljava/util/function/Consumer;)Ljava/lang/classfile/MethodBuilder;&apos; in &apos;jdk/internal/classfile/impl/DirectMethodBuilder&apos;)}
  0x000077b4580d2688:   addq   $0x1,0xd8(%rdx)
  0x000077b4580d2690:   mov    %rsi,%rbx
  0x000077b4580d2693:   mov    %rbx,%rsi
  0x000077b4580d2696:   mov    %rcx,%rdx
  0x000077b4580d2699:   mov    %r8,%rcx
  0x000077b4580d269c:   mov    %rdi,%r8                     ;*invokestatic build {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@11 (line 118)
  0x000077b4580d269f:   call   0x000077b45f4adfe0           ; ImmutableOopMap {[72]=Oop }
                                                            ;*invokestatic build {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@11 (line 118)
                                                            ;   {static_call}
  0x000077b4580d26a4:   nopl   0x19c(%rax,%rax,1)           ;*invokestatic build {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@11 (line 118)
                                                            ;   {post_call_nop}
  0x000077b4580d26ac:   mov    0x48(%rsp),%rsi
  0x000077b4580d26b1:   movabs $0x77b414621018,%rdx         ;   {metadata(method data for {method} {0x0000000046353598} &apos;withCode&apos; &apos;(Ljava/lang/classfile/CodeModel;Ljava/util/function/Consumer;)Ljava/lang/classfile/MethodBuilder;&apos; in &apos;jdk/internal/classfile/impl/DirectMethodBuilder&apos;)}
  0x000077b4580d26bb:   mov    0x8(%rsi),%esi
  0x000077b4580d26be:   mov    $0x46000000,%r10d
  0x000077b4580d26c4:   add    %r10,%rsi
  0x000077b4580d26c7:   mov    $0x1e,%r10d
  0x000077b4580d26cd:   cmp    (%rdx,%r10,8),%rsi
  0x000077b4580d26d1:   je     0x000077b4580d270a
  0x000077b4580d26d3:   add    $0x2,%r10
  0x000077b4580d26d7:   cmp    $0x22,%r10
  0x000077b4580d26db:   jne    0x000077b4580d26cd
  0x000077b4580d26dd:   mov    $0x1e,%r10d
  0x000077b4580d26e3:   cmpq   $0x0,(%rdx,%r10,8)
  0x000077b4580d26e8:   je     0x000077b4580d26f6
  0x000077b4580d26ea:   add    $0x2,%r10
  0x000077b4580d26ee:   cmp    $0x22,%r10
  0x000077b4580d26f2:   jne    0x000077b4580d26e3
  0x000077b4580d26f4:   jmp    0x000077b4580d2702
  0x000077b4580d26f6:   push   %rax
  0x000077b4580d26f7:   xor    %rax,%rax
  0x000077b4580d26fa:   cmpxchg %rsi,(%rdx,%r10,8)
  0x000077b4580d26ff:   pop    %rax
  0x000077b4580d2700:   jmp    0x000077b4580d26c7
  0x000077b4580d2702:   mov    $0x1d,%r10d
  0x000077b4580d2708:   jmp    0x000077b4580d270e
  0x000077b4580d270a:   add    $0x1,%r10
  0x000077b4580d270e:   addq   $0x1,(%rdx,%r10,8)
  0x000077b4580d2713:   movabs $0x77b41427dd30,%rsi         ;   {metadata(method data for {method} {0x000000004634e290} &apos;writeAttribute&apos; &apos;(Ljava/lang/classfile/Attribute;)V&apos; in &apos;jdk/internal/classfile/impl/AbstractDirectBuilder&apos;)}
  0x000077b4580d271d:   mov    0x90(%rsi),%edx
  0x000077b4580d2723:   add    $0x2,%edx
  0x000077b4580d2726:   mov    %edx,0x90(%rsi)
  0x000077b4580d272c:   and    $0x1ffffe,%edx
  0x000077b4580d2732:   test   %edx,%edx
  0x000077b4580d2734:   je     0x000077b4580d2815
  0x000077b4580d273a:   mov    0x48(%rsp),%rsi
  0x000077b4580d273f:   mov    0x10(%rsi),%edx
  0x000077b4580d2742:   shl    $0x3,%rdx                    ;*getfield context {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.AbstractDirectBuilder::writeAttribute@2 (line 54)
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@17 (line 119)
  0x000077b4580d2746:   movabs $0x77b41427dd30,%rdi         ;   {metadata(method data for {method} {0x000000004634e290} &apos;writeAttribute&apos; &apos;(Ljava/lang/classfile/Attribute;)V&apos; in &apos;jdk/internal/classfile/impl/AbstractDirectBuilder&apos;)}
  0x000077b4580d2750:   addq   $0x1,0xd8(%rdi)
  0x000077b4580d2758:   mov    %rax,%rsi                    ;*invokestatic isAttributeAllowed {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.AbstractDirectBuilder::writeAttribute@5 (line 54)
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@17 (line 119)
  0x000077b4580d275b:   mov    %rax,0x50(%rsp)
  0x000077b4580d2760:   nopl   0x0(%rax)
  0x000077b4580d2767:   call   0x000077b45f4adfe0           ; ImmutableOopMap {[72]=Oop [80]=Oop }
                                                            ;*invokestatic isAttributeAllowed {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.AbstractDirectBuilder::writeAttribute@5 (line 54)
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@17 (line 119)
                                                            ;   {static_call}
  0x000077b4580d276c:   nopl   0x1000264(%rax,%rax,1)       ;*invokestatic isAttributeAllowed {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.AbstractDirectBuilder::writeAttribute@5 (line 54)
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@17 (line 119)
                                                            ;   {post_call_nop}
  0x000077b4580d2774:   test   %eax,%eax
  0x000077b4580d2776:   movabs $0x77b41427dd30,%rdx         ;   {metadata(method data for {method} {0x000000004634e290} &apos;writeAttribute&apos; &apos;(Ljava/lang/classfile/Attribute;)V&apos; in &apos;jdk/internal/classfile/impl/AbstractDirectBuilder&apos;)}
  0x000077b4580d2780:   mov    $0xe8,%esi
  0x000077b4580d2785:   je     0x000077b4580d278c
  0x000077b4580d2787:   mov    $0xf8,%esi
  0x000077b4580d278c:   mov    (%rdx,%rsi,1),%rdi
  0x000077b4580d2790:   lea    0x1(%rdi),%rdi
  0x000077b4580d2794:   mov    %rdi,(%rdx,%rsi,1)
  0x000077b4580d2798:   je     0x000077b4580d27dc           ;*ifeq {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.AbstractDirectBuilder::writeAttribute@8 (line 54)
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@17 (line 119)
  0x000077b4580d279e:   mov    0x50(%rsp),%rax
  0x000077b4580d27a3:   mov    0x48(%rsp),%rsi
  0x000077b4580d27a8:   mov    0x14(%rsi),%edi
  0x000077b4580d27ab:   shl    $0x3,%rdi                    ;*getfield attributes {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.AbstractDirectBuilder::writeAttribute@12 (line 55)
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@17 (line 119)
  0x000077b4580d27af:   cmp    (%rdi),%rax                  ; implicit exception: dispatches to 0x000077b4580d2836
  0x000077b4580d27b2:   mov    %rdi,%rdx
  0x000077b4580d27b5:   movabs $0x77b41427dd30,%rbx         ;   {metadata(method data for {method} {0x000000004634e290} &apos;writeAttribute&apos; &apos;(Ljava/lang/classfile/Attribute;)V&apos; in &apos;jdk/internal/classfile/impl/AbstractDirectBuilder&apos;)}
  0x000077b4580d27bf:   addq   $0x1,0x118(%rbx)
  0x000077b4580d27c7:   mov    %rax,%rdx
  0x000077b4580d27ca:   mov    %rdi,%rsi                    ;*invokevirtual withAttribute {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.AbstractDirectBuilder::writeAttribute@16 (line 55)
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@17 (line 119)
  0x000077b4580d27cd:   xchg   %ax,%ax
  0x000077b4580d27cf:   call   0x000077b45f4ad9e0           ; ImmutableOopMap {[72]=Oop }
                                                            ;*invokevirtual withAttribute {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.AbstractDirectBuilder::writeAttribute@16 (line 55)
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@17 (line 119)
                                                            ;   {optimized virtual_call}
  0x000077b4580d27d4:   nopl   0x20002cc(%rax,%rax,1)       ;*invokevirtual withAttribute {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.AbstractDirectBuilder::writeAttribute@16 (line 55)
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@17 (line 119)
                                                            ;   {post_call_nop}
  0x000077b4580d27dc:   mov    0x48(%rsp),%rsi
  0x000077b4580d27e1:   mov    %rsi,%rax
  0x000077b4580d27e4:   add    $0x60,%rsp
  0x000077b4580d27e8:   pop    %rbp
  0x000077b4580d27e9:   cmp    0x28(%r15),%rsp              ;   {poll_return}
  0x000077b4580d27ed:   ja     0x000077b4580d283b
  0x000077b4580d27f3:   ret    
  0x000077b4580d27f4:   movabs $0x46353598,%r10             ;   {metadata({method} {0x0000000046353598} &apos;withCode&apos; &apos;(Ljava/lang/classfile/CodeModel;Ljava/util/function/Consumer;)Ljava/lang/classfile/MethodBuilder;&apos; in &apos;jdk/internal/classfile/impl/DirectMethodBuilder&apos;)}
  0x000077b4580d27fe:   mov    %r10,0x8(%rsp)
  0x000077b4580d2803:   movq   $0xffffffffffffffff,(%rsp)
  0x000077b4580d280b:   call   0x000077b45f582fe0           ; ImmutableOopMap {rsi=Oop r9=Oop rcx=Oop [72]=Oop }
                                                            ;*synchronization entry
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@-1 (line 118)
                                                            ;   {runtime_call counter_overflow_blob (C1 runtime)}
  0x000077b4580d2810:   jmp    0x000077b4580d266f
  0x000077b4580d2815:   movabs $0x4634e290,%r10             ;   {metadata({method} {0x000000004634e290} &apos;writeAttribute&apos; &apos;(Ljava/lang/classfile/Attribute;)V&apos; in &apos;jdk/internal/classfile/impl/AbstractDirectBuilder&apos;)}
  0x000077b4580d281f:   mov    %r10,0x8(%rsp)
  0x000077b4580d2824:   movq   $0xffffffffffffffff,(%rsp)
  0x000077b4580d282c:   call   0x000077b45f582fe0           ; ImmutableOopMap {rax=Oop [72]=Oop }
                                                            ;*synchronization entry
                                                            ; - jdk.internal.classfile.impl.AbstractDirectBuilder::writeAttribute@-1 (line 54)
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@17 (line 119)
                                                            ;   {runtime_call counter_overflow_blob (C1 runtime)}
  0x000077b4580d2831:   jmp    0x000077b4580d273a
  0x000077b4580d2836:   call   0x000077b45f57c660           ; ImmutableOopMap {rax=Oop rsi=Oop rdi=Oop [72]=Oop }
                                                            ;*invokevirtual withAttribute {reexecute=0 rethrow=0 return_oop=0}
                                                            ; - jdk.internal.classfile.impl.AbstractDirectBuilder::writeAttribute@16 (line 55)
                                                            ; - jdk.internal.classfile.impl.DirectMethodBuilder::withCode@17 (line 119)
                                                            ;   {runtime_call throw_null_pointer_exception_blob (C1 runtime)}
  0x000077b4580d283b:   movabs $0x77b4580d27e9,%r10         ;   {internal_word}
  0x000077b4580d2845:   mov    %r10,0x510(%r15)
  0x000077b4580d284c:   jmp    0x000077b45f4afb60           ;   {runtime_call SafepointBlob}
  0x000077b4580d2851:   mov    0x5c0(%r15),%rax
  0x000077b4580d2858:   movq   $0x0,0x5c0(%r15)
  0x000077b4580d2863:   movq   $0x0,0x5c8(%r15)
  0x000077b4580d286e:   add    $0x60,%rsp
  0x000077b4580d2872:   pop    %rbp
  0x000077b4580d2873:   jmp    0x000077b45f57b760           ;   {runtime_call unwind_exception_blob (C1 runtime)}
[Stub Code]
  0x000077b4580d2878:   nopl   0x0(%rax,%rax,1)             ;   {other}
  0x000077b4580d287d:   movabs $0x0,%rbx                    ;   {static_stub}
  0x000077b4580d2887:   jmp    0x000077b4580d2887           ;   {runtime_call nmethod}
  0x000077b4580d288c:   movabs $0x0,%rbx                    ;   {static_stub}
  0x000077b4580d2896:   jmp    0x000077b4580d2896           ;   {runtime_call nmethod}
  0x000077b4580d289b:   movabs $0x0,%rbx                    ;   {static_stub}
  0x000077b4580d28a5:   jmp    0x000077b4580d28a5           ;   {runtime_call nmethod}
[Exception Handler]
  0x000077b4580d28aa:   call   0x000077b45f57ede0           ;   {runtime_call handle_exception_from_callee_blob (C1 runtime)}
  0x000077b4580d28af:   movabs $0x77b478d3aec4,%rdi         ;   {external_word}
  0x000077b4580d28b9:   and    $0xfffffffffffffff0,%rsp
  0x000077b4580d28bd:   call   0x000077b478791cc0           ;   {runtime_call MacroAssembler::debug64(char*, long, long*)}
  0x000077b4580d28c2:   hlt    
  0x000077b4580d28c3:   call   0x000077b45f4afe60           ;   {runtime_call DeoptimizationBlob}
[Deopt Handler Entry Point]
  0x000077b4580d28c8:   jmp    0x000077b4580d28c3
  0x000077b4580d28ca:   hlt    
  0x000077b4580d28cb:   hlt    
  0x000077b4580d28cc:   hlt    
  0x000077b4580d28cd:   hlt    
  0x000077b4580d28ce:   hlt    
  0x000077b4580d28cf:   hlt    
--------------------------------------------------------------------------------
[/Disassembly]
